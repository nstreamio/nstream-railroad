{"version":3,"file":"nstream-railroad.js","sources":["../node_modules/tslib/tslib.es6.js","../src/nstream-railroad/rcl/RclWidgets.ts","../src/nstream-railroad/yard/RailLocation.ts","../src/nstream-railroad/yard/RailGroup.ts","../src/nstream-railroad/yard/YardLocation.ts","../src/nstream-railroad/yard/YardWidgets.ts","../src/nstream-railroad/yard/YardGroup.ts","../src/nstream-railroad/grid/GridGroup.ts","../src/nstream-railroad/NstreamRailroadPlugin.ts","../src/nstream-railroad/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { DateTime, Item, MapDownlinkFastener, TimeZone, Uri, Value, ValueDownlinkFastener } from \"@swim/runtime\";\nimport { BottomAxisTrait, ChartTrait, ColTrait, DataPointTrait, DataSetTrait, DialTrait, Feel, GaugeTrait, GraphTrait, LinePlotTrait, Look, Model, ModelRef, MoodVector, RowTrait, SelectableTrait, TableTrait, TextCellTrait, Theme, Trait, TraitRef } from \"@swim/toolkit\";\nimport { EntityTrait, Status, StatusTrait, StatusFactor, StatusVector, WidgetGroup, WidgetTrait } from \"@swim/platform\";\n\nexport class RclWidgets extends WidgetGroup {\n\n  // Status Widget\n\n  protected updateStatusTable(value: Value): void {\n    const tableModel = this.statusTable.model!;\n\n    const offline = value.get(\"isOffline\").booleanValue(false);\n    const offlineRowModel = tableModel.getChild(\"offline\")!;\n    offlineRowModel.getTrait(\"value\", TextCellTrait)!.content(offline + \"\");\n    offlineRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getAlertStatusFromFlag(offline));\n\n    const reportTime = new DateTime(value.get(\"reportTime\").numberValue(void 0)!, TimeZone.forOffset(-480));\n    const reportTimeRowModel = tableModel.getChild(\"reportTime\")!;\n    reportTimeRowModel.getTrait(\"value\", TextCellTrait)!.content(this.getTimeStr(reportTime));\n    reportTimeRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getAlertStatusFromFlag(offline));\n\n    const idle = value.get(\"isIdle\").booleanValue(false);\n    const idleRowModel = tableModel.getChild(\"idle\")!;\n    idleRowModel.getTrait(\"value\", TextCellTrait)!.content(idle + \"\");\n    idleRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getWarningStatusFromFlag(idle));\n\n    const locationChangeTime = new DateTime(value.get(\"locationChangeTime\").numberValue(void 0)!, TimeZone.forOffset(-480));\n    const locationChangeTimeRowModel = tableModel.getChild(\"locationChangeTime\")!;\n    locationChangeTimeRowModel.getTrait(\"value\", TextCellTrait)!.content(this.getTimeStr(locationChangeTime));\n    locationChangeTimeRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getWarningStatusFromFlag(idle));\n\n    const alertStatus = value.get(\"alertStatus\").stringValue(\"\");\n    const alertStatusRowModel = tableModel.getChild(\"alertStatus\")!;\n    alertStatusRowModel.getTrait(\"value\", TextCellTrait)!.content(alertStatus + \"\");\n    alertStatusRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getStatusFactorFromAlert(alertStatus));\n\n    const alertTime = new DateTime(value.get(\"alertTime\").numberValue(void 0)!, TimeZone.forOffset(-480));\n    const alertTimeRowModel = tableModel.getChild(\"alertTime\")!;\n    alertTimeRowModel.getTrait(\"value\", TextCellTrait)!.content(this.getTimeStr(alertTime));\n    alertTimeRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getStatusFactorFromAlert(alertStatus));\n\n  }\n\n  private getTimeStr(time: DateTime): string {\n    const hour = time.hour < 10 ? \"0\" + time.hour : time.hour;\n    const minute = time.minute < 10 ? \"0\" + time.minute : time.minute;\n    const second = time.second < 10 ? \"0\" + time.second : time.second;\n    return hour + \":\" + minute + \":\" + second;\n  }\n  \n  private getStatusFactorFromAlert(alertType: string): StatusFactor | null {\n    if (alertType == \"Warning\") return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2]));\n    if (alertType == \"Critical\") return StatusFactor.create(\"Severity\", StatusVector.of([Status.alert, 2]));\n\n    return null;\n  }\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"statusTable\",\n    createModel(): Model {\n      const tableModel = new Model();\n      tableModel.appendTrait(TableTrait, \"table\")\n        .colSpacing(12);\n      tableModel.appendTrait(ColTrait, \"key\")\n        .layout({ key: \"key\", grow: 3, textColor: Look.mutedColor });\n      tableModel.appendTrait(ColTrait, \"value\")\n        .layout({ key: \"value\", grow: 2, textColor: Look.accentColor });\n\n      const offlineRowModel = new Model();\n      offlineRowModel.appendTrait(RowTrait, \"row\");\n      offlineRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Offline\");\n      offlineRowModel.appendTrait(TextCellTrait, \"value\");\n      offlineRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(offlineRowModel, \"offline\");\n\n      const reportTimeRowModel = new Model();\n      reportTimeRowModel.appendTrait(RowTrait, \"row\");\n      reportTimeRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Last Updated Time\");\n      reportTimeRowModel.appendTrait(TextCellTrait, \"value\");\n      reportTimeRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(reportTimeRowModel, \"reportTime\");\n\n      const idleRowModel = new Model();\n      idleRowModel.appendTrait(RowTrait, \"row\");\n      idleRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Idle\");\n      idleRowModel.appendTrait(TextCellTrait, \"value\");\n      idleRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(idleRowModel, \"idle\");\n\n      const locationChangeTimeRowModel = new Model();\n      locationChangeTimeRowModel.appendTrait(RowTrait, \"row\");\n      locationChangeTimeRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Last Location Change Time\");\n      locationChangeTimeRowModel.appendTrait(TextCellTrait, \"value\");\n      locationChangeTimeRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(locationChangeTimeRowModel, \"locationChangeTime\");\n\n      const alertStatusRowModel = new Model();\n      alertStatusRowModel.appendTrait(RowTrait, \"row\");\n      alertStatusRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Alert Type\");\n      alertStatusRowModel.appendTrait(TextCellTrait, \"value\");\n      alertStatusRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(alertStatusRowModel, \"alertStatus\");\n\n      const alertTimeRowModel = new Model();\n      alertTimeRowModel.appendTrait(RowTrait, \"row\");\n      alertTimeRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Alert Time\");\n      alertTimeRowModel.appendTrait(TextCellTrait, \"value\");\n      alertTimeRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(alertTimeRowModel, \"alertTime\");\n\n      return tableModel;\n    },\n  })\n  readonly statusTable!: ModelRef<this, Model>;\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"status\",\n    binds: true,\n    observes: true,\n    createModel(): Model {\n      const widgetModel = new Model();\n      const widgetTrait = new WidgetTrait();\n      widgetTrait.title.setValue(\"STATUS\");\n      widgetTrait.subtitle.setValue(\"RCL\");\n      widgetModel.setTrait(\"widget\", widgetTrait);\n\n      this.owner.statusTable.insertModel(widgetModel);\n\n      return widgetModel;\n    },\n  })\n  readonly statusWidget!: ModelRef<this, Model>;\n\n\n  // Operation Widget\n\n  // Operation Gauge\n  protected updateOperationGauge(value: Value): void {\n    const gaugeModel = this.operationGauge.model!;\n\n    const brakeLevel = value.get(\"brakeLevel\").numberValue();\n    const brakeDialModel = gaugeModel.getChild(\"brake\")!;\n    brakeDialModel.getTrait(DialTrait)!\n        .legend(\"Brake (\" + brakeLevel + \"%)\")\n        .value(brakeLevel!);\n    //brakeDialModel.getTrait(StatusTrait)!.setStatusFactor(\"brake\", this.getStatusFactorFromScore(brakeLevel));\n\n    const fuelLevel = value.get(\"fuelLevel\").numberValue();\n    const fuelDialModel = gaugeModel.getChild(\"fuel\")!;\n    fuelDialModel.getTrait(DialTrait)!\n        .legend(\"Fuel (\" + fuelLevel + \"%)\")\n        .value(fuelLevel!);\n   fuelDialModel.getTrait(StatusTrait)!.setStatusFactor(\"fuel\", this.getStatusFactorFromLowPercentage(fuelLevel!));\n  }\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"operationGauge\",\n    createModel(): Model {\n      const gaugeModel = new Model();\n      gaugeModel.appendTrait(GaugeTrait, \"gauge\")\n          .limit(100);\n\n      const brakeDialModel = new Model();\n      brakeDialModel.appendTrait(DialTrait, \"brake\");\n      brakeDialModel.appendTrait(StatusTrait, \"status\");\n      gaugeModel.setChild(\"brake\", brakeDialModel);\n\n      const fuelDialModel = new Model();\n      fuelDialModel.appendTrait(DialTrait, \"fuel\");\n      fuelDialModel.appendTrait(StatusTrait, \"status\");\n      gaugeModel.setChild(\"fuel\", fuelDialModel);\n      return gaugeModel;\n    },\n  })\n  readonly operationGauge!: ModelRef<this, Model>;\n\n  protected updateOperationTable(value: Value): void {\n    const tableModel = this.operationTable.model!;\n\n    const doorOpen = value.get(\"isDoorOpen\").booleanValue(false);\n    const doorOpenRowModel = tableModel.getChild(\"doorOpen\")!;\n    doorOpenRowModel.getTrait(\"value\", TextCellTrait)!.content(doorOpen + \"\");\n    doorOpenRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getWarningStatusFromFlag(doorOpen));\n\n    const emergencyBrake = value.get(\"isEmergencyBrake\").booleanValue(false);\n    const emergencyBrakeRowModel = tableModel.getChild(\"emergencyBrake\")!;\n    emergencyBrakeRowModel.getTrait(\"value\", TextCellTrait)!.content(emergencyBrake + \"\");\n    emergencyBrakeRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getWarningStatusFromFlag(emergencyBrake));\n\n    const brakeLevel = value.get(\"brakeLevel\").numberValue();\n    const brakeLevelRowModel = tableModel.getChild(\"brakeLevel\")!;\n    brakeLevelRowModel.getTrait(\"value\", TextCellTrait)!.content(brakeLevel + \"%\");\n\n    const fuelLevel = value.get(\"fuelLevel\").numberValue();\n    const fuelLevelRowModel = tableModel.getChild(\"fuelLevel\")!;\n    fuelLevelRowModel.getTrait(\"value\", TextCellTrait)!.content(fuelLevel + \"%\");\n    fuelLevelRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getStatusFactorFromLowPercentage(fuelLevel!));\n\n    const engineFault = value.get(\"isEngineFault\").booleanValue(false);\n    const engineFaultRowModel = tableModel.getChild(\"engineFault\")!;\n    engineFaultRowModel.getTrait(\"value\", TextCellTrait)!.content(engineFault + \"\");\n    engineFaultRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getWarningStatusFromFlag(engineFault));    \n\n    const engineTemperature = value.get(\"engineTemperature\").numberValue();\n    const engineTemperatureRowModel = tableModel.getChild(\"engineTemperature\")!;\n    engineTemperatureRowModel.getTrait(\"value\", TextCellTrait)!.content(engineTemperature + \"F\");\n\n    const throttle = value.get(\"throttle\").numberValue();\n    const throttleRowModel = tableModel.getChild(\"throttle\")!;\n    throttleRowModel.getTrait(\"value\", TextCellTrait)!.content(throttle + \"%\");\n  }\n\n  getWarningStatusFromFlag(flag: boolean): StatusFactor | null {\n    if (flag) return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2]));\n    return null;    \n  }\n\n  getAlertStatusFromFlag(flag: boolean): StatusFactor | null {\n    if (flag) return StatusFactor.create(\"Severity\", StatusVector.of([Status.alert, 2]));\n    return null;    \n  }\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"operationTable\",\n    createModel(): Model {\n      const tableModel = new Model();\n      tableModel.appendTrait(TableTrait, \"table\")\n        .colSpacing(12);\n      tableModel.appendTrait(ColTrait, \"key\")\n        .layout({ key: \"key\", grow: 3, textColor: Look.mutedColor });\n      tableModel.appendTrait(ColTrait, \"value\")\n        .layout({ key: \"value\", grow: 2, textColor: Look.accentColor });\n\n      const doorOpenRowModel = new Model();\n      doorOpenRowModel.appendTrait(RowTrait, \"row\");\n      doorOpenRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Door Open\");\n      doorOpenRowModel.appendTrait(TextCellTrait, \"value\");\n      doorOpenRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(doorOpenRowModel, \"doorOpen\");\n\n      const brakeLevelRowModel = new Model();\n      brakeLevelRowModel.appendTrait(RowTrait, \"row\");\n      brakeLevelRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Brake Level\");\n      brakeLevelRowModel.appendTrait(TextCellTrait, \"value\");\n      brakeLevelRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(brakeLevelRowModel, \"brakeLevel\");\n\n      const emergencyBrakeRowModel = new Model();\n      emergencyBrakeRowModel.appendTrait(RowTrait, \"row\");\n      emergencyBrakeRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Emergency Brake\");\n      emergencyBrakeRowModel.appendTrait(TextCellTrait, \"value\");\n      emergencyBrakeRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(emergencyBrakeRowModel, \"emergencyBrake\");\n\n      const fuelLevelRowModel = new Model();\n      fuelLevelRowModel.appendTrait(RowTrait, \"row\");\n      fuelLevelRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Fuel Level\");\n      fuelLevelRowModel.appendTrait(TextCellTrait, \"value\");\n      fuelLevelRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(fuelLevelRowModel, \"fuelLevel\");\n\n      const engineFaultRowModel = new Model();\n      engineFaultRowModel.appendTrait(RowTrait, \"row\");\n      engineFaultRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Engine Fault\");\n      engineFaultRowModel.appendTrait(TextCellTrait, \"value\");\n      engineFaultRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(engineFaultRowModel, \"engineFault\");\n\n      const engineTemperatureRowModel = new Model();\n      engineTemperatureRowModel.appendTrait(RowTrait, \"row\");\n      engineTemperatureRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Engine Temperature\");\n      engineTemperatureRowModel.appendTrait(TextCellTrait, \"value\");\n      engineTemperatureRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(engineTemperatureRowModel, \"engineTemperature\");\n\n      const throttleRowModel = new Model();\n      throttleRowModel.appendTrait(RowTrait, \"row\");\n      throttleRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Throttle\");\n      throttleRowModel.appendTrait(TextCellTrait, \"value\");\n      throttleRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(throttleRowModel, \"throttle\");\n\n      return tableModel;\n    },\n  })\n  readonly operationTable!: ModelRef<this, Model>;\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"operation\",\n    binds: true,\n    observes: true,\n    createModel(): Model {\n      const widgetModel = new Model();\n      const widgetTrait = new WidgetTrait();\n      widgetTrait.title.setValue(\"OPERATION\");\n      widgetTrait.subtitle.setValue(\"LOCOMOTIVE\");\n      widgetModel.setTrait(\"widget\", widgetTrait);\n\n      this.owner.operationGauge.insertModel(widgetModel);\n      this.owner.operationTable.insertModel(widgetModel);\n\n      return widgetModel;\n    },\n  })\n  readonly operationWidget!: ModelRef<this, Model>;\n\n  // Performance Widget\n\n  // Performance Gauge\n  protected updatePerformanceGauge(value: Value): void {\n    const gaugeModel = this.performanceGauge.model!;\n\n    const cpu = value.get(\"cpuUsage\").numberValue();\n    const cpuDialModel = gaugeModel.getChild(\"cpu\")!;\n    cpuDialModel.getTrait(DialTrait)!\n        .legend(\"CPU (\" + cpu + \"%)\")\n        .value(cpu!);\n    cpuDialModel.getTrait(StatusTrait)!.setStatusFactor(\"cpu\", this.getStatusFactorFromHighPercentage(cpu!));\n\n    const memory = value.get(\"memoryUsage\").numberValue();\n    const memoryDialModel = gaugeModel.getChild(\"memory\")!;\n    memoryDialModel.getTrait(DialTrait)!\n        .legend(\"Memory (\" + memory + \"%)\")\n        .value(memory!);\n   memoryDialModel.getTrait(StatusTrait)!.setStatusFactor(\"memory\", this.getStatusFactorFromLowPercentage(memory!));\n  }\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"performanceGauge\",\n    createModel(): Model {\n      const gaugeModel = new Model();\n      gaugeModel.appendTrait(GaugeTrait, \"gauge\")\n          .limit(100);\n\n      const cpuDialModel = new Model();\n      cpuDialModel.appendTrait(DialTrait, \"cpu\");\n      cpuDialModel.appendTrait(StatusTrait, \"status\");\n      gaugeModel.setChild(\"cpu\", cpuDialModel);\n\n      const memoryDialModel = new Model();\n      memoryDialModel.appendTrait(DialTrait, \"memory\");\n      memoryDialModel.appendTrait(StatusTrait, \"status\");\n      gaugeModel.setChild(\"memory\", memoryDialModel);\n      return gaugeModel;\n    },\n  })\n  readonly performanceGauge!: ModelRef<this, Model>;\n\n  protected updatePerformanceTable(value: Value): void {\n    const tableModel = this.performanceTable.model!;\n\n    const cpuUsage = value.get(\"cpuUsage\").numberValue(0);\n    const cpuUsageRowModel = tableModel.getChild(\"cpuUsage\")!;\n    cpuUsageRowModel.getTrait(\"value\", TextCellTrait)!.content(cpuUsage + \"\");\n    cpuUsageRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getStatusFactorFromHighPercentage(cpuUsage));\n\n    const memoryUsage = value.get(\"memoryUsage\").numberValue(0);\n    const memoryUsageRowModel = tableModel.getChild(\"memoryUsage\")!;\n    memoryUsageRowModel.getTrait(\"value\", TextCellTrait)!.content(memoryUsage + \"\");      \n    memoryUsageRowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getStatusFactorFromHighPercentage(memoryUsage));\n\n    const networkBandwidthRowModel = tableModel.getChild(\"networkBandwidth\")!;\n    networkBandwidthRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"networkBandwidth\").stringValue(\"\"));\n\n    const storageRowModel = tableModel.getChild(\"storage\")!;\n    storageRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"storage\").stringValue(\"\"));\n  }\n\n  getStatusFactorFromHighPercentage(usage: number): StatusFactor | null {\n    if (usage > 95) return StatusFactor.create(\"Severity\", StatusVector.of([Status.alert, 2]));\n    if (usage > 85) return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2]));\n    return null;    \n  }\n\n  getStatusFactorFromLowPercentage(usage: number): StatusFactor | null {\n    if (usage < 5) return StatusFactor.create(\"Severity\", StatusVector.of([Status.alert, 2]));\n    if (usage < 15) return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2]));\n    return null;\n  }\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"performanceTable\",\n    createModel(): Model {\n      const tableModel = new Model();\n      tableModel.appendTrait(TableTrait, \"table\")\n        .colSpacing(12);\n      tableModel.appendTrait(ColTrait, \"key\")\n        .layout({ key: \"key\", grow: 3, textColor: Look.mutedColor });\n      tableModel.appendTrait(ColTrait, \"value\")\n        .layout({ key: \"value\", grow: 2, textColor: Look.accentColor });\n\n      const cpuUsageRowModel = new Model();\n      cpuUsageRowModel.appendTrait(RowTrait, \"row\");\n      cpuUsageRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"CPU Usage\");\n      cpuUsageRowModel.appendTrait(TextCellTrait, \"value\");\n      cpuUsageRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(cpuUsageRowModel, \"cpuUsage\");\n\n      const memoryUsageRowModel = new Model();\n      memoryUsageRowModel.appendTrait(RowTrait, \"row\");\n      memoryUsageRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Memory Usage\");\n      memoryUsageRowModel.appendTrait(TextCellTrait, \"value\");\n      memoryUsageRowModel.appendTrait(StatusTrait, \"status\");\n      tableModel.appendChild(memoryUsageRowModel, \"memoryUsage\");\n\n      const networkBandwidthRowModel = new Model();\n      networkBandwidthRowModel.appendTrait(RowTrait, \"row\");\n      networkBandwidthRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Network Bandwidth\");\n      networkBandwidthRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(networkBandwidthRowModel, \"networkBandwidth\");\n\n      const storageRowModel = new Model();\n      storageRowModel.appendTrait(RowTrait, \"row\");\n      storageRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Storage\");\n      storageRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(storageRowModel, \"storage\");\n\n      return tableModel;\n    },\n  })\n  readonly performanceTable!: ModelRef<this, Model>;\n\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"performance\",\n    binds: true,\n    observes: true,\n    createModel(): Model {\n      const widgetModel = new Model();\n      const widgetTrait = new WidgetTrait();\n      widgetTrait.title.setValue(\"PERFORMANCE\");\n      widgetTrait.subtitle.setValue(\"RCU\");\n      widgetModel.setTrait(\"widget\", widgetTrait);\n\n      this.owner.performanceGauge.insertModel(widgetModel);\n      this.owner.performanceTable.insertModel(widgetModel);\n\n      return widgetModel;\n    },\n  })\n  readonly performanceWidget!: ModelRef<this, Model>;\n\n  // Health Widget\n\n  protected updateHealthTable(value: Value): void {\n    const tableModel = this.healthTable.model!;\n\n    const temperatureRowModel = tableModel.getChild(\"temperature\")!;\n    temperatureRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"temperature\").stringValue(\"\"));\n\n    const batteryRowModel = tableModel.getChild(\"battery\")!;\n    batteryRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"battery\").stringValue(\"\"));      \n\n    const signalStrengthRowModel = tableModel.getChild(\"signalStrength\")!;\n    signalStrengthRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"signalStrength\").stringValue(\"\"));\n\n    const powerSupplyStatusRowModel = tableModel.getChild(\"powerSupplyStatus\")!;\n    powerSupplyStatusRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"powerSupplyStatus\").stringValue(\"\"));      \n  }\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"healthTable\",\n    createModel(): Model {\n      const tableModel = new Model();\n      tableModel.appendTrait(TableTrait, \"table\")\n        .colSpacing(12);\n      tableModel.appendTrait(ColTrait, \"key\")\n        .layout({ key: \"key\", grow: 3, textColor: Look.mutedColor });\n      tableModel.appendTrait(ColTrait, \"value\")\n        .layout({ key: \"value\", grow: 2, textColor: Look.accentColor });\n\n      const temperatureRowModel = new Model();\n      temperatureRowModel.appendTrait(RowTrait, \"row\");\n      temperatureRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Temperature\");\n      temperatureRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(temperatureRowModel, \"temperature\");\n\n      const batteryRowModel = new Model();\n      batteryRowModel.appendTrait(RowTrait, \"row\");\n      batteryRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Battery\");\n      batteryRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(batteryRowModel, \"battery\");\n\n      const signalStrengthRowModel = new Model();\n      signalStrengthRowModel.appendTrait(RowTrait, \"row\");\n      signalStrengthRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Signal Strength\");\n      signalStrengthRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(signalStrengthRowModel, \"signalStrength\");\n\n      const powerSupplyStatusRowModel = new Model();\n      powerSupplyStatusRowModel.appendTrait(RowTrait, \"row\");\n      powerSupplyStatusRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Power Supply Status\");\n      powerSupplyStatusRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(powerSupplyStatusRowModel, \"powerSupplyStatus\");\n\n      return tableModel;\n    },\n  })\n  readonly healthTable!: ModelRef<this, Model>;\n\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"health\",\n    binds: true,\n    observes: true,\n    createModel(): Model {\n      const widgetModel = new Model();\n      const widgetTrait = new WidgetTrait();\n      widgetTrait.title.setValue(\"HEALTH\");\n      widgetTrait.subtitle.setValue(\"RCU\");\n      widgetModel.setTrait(\"widget\", widgetTrait);\n\n      this.owner.healthTable.insertModel(widgetModel);\n\n      return widgetModel;\n    },\n  })\n  readonly healthWidget!: ModelRef<this, Model>;\n\n  // Info Widget\n\n  protected updateInfoTable(value: Value): void {\n    const tableModel = this.infoTable.model!;\n\n    const systemNameRowModel = tableModel.getChild(\"systemName\")!;\n    systemNameRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"systemName\").stringValue(\"\"));\n\n    const systemTypeRowModel = tableModel.getChild(\"systemType\")!;\n    systemTypeRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"systemType\").stringValue(\"\"));      \n\n    const rclVersionRowModel = tableModel.getChild(\"rclVersion\")!;\n    rclVersionRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"rclVersion\").stringValue(\"\"));\n\n    const installDateRowModel = tableModel.getChild(\"installDate\")!;\n    installDateRowModel.getTrait(\"value\", TextCellTrait)!\n      .content(value.get(\"installDate\").stringValue(\"\"));      \n  }\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"infoTable\",\n    createModel(): Model {\n      const tableModel = new Model();\n      tableModel.appendTrait(TableTrait, \"table\")\n        .colSpacing(12);\n      tableModel.appendTrait(ColTrait, \"key\")\n        .layout({ key: \"key\", grow: 3, textColor: Look.mutedColor });\n      tableModel.appendTrait(ColTrait, \"value\")\n        .layout({ key: \"value\", grow: 2, textColor: Look.accentColor });\n\n      const systemNameRowModel = new Model();\n      systemNameRowModel.appendTrait(RowTrait, \"row\");\n      systemNameRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"System Name\");\n      systemNameRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(systemNameRowModel, \"systemName\");\n\n      const systemTypeRowModel = new Model();\n      systemTypeRowModel.appendTrait(RowTrait, \"row\");\n      systemTypeRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"System Type\");\n      systemTypeRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(systemTypeRowModel, \"systemType\");\n\n      const rclVersionRowModel = new Model();\n      rclVersionRowModel.appendTrait(RowTrait, \"row\");\n      rclVersionRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"RCL Version\");\n      rclVersionRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(rclVersionRowModel, \"rclVersion\");\n\n      const installDateRowModel = new Model();\n      installDateRowModel.appendTrait(RowTrait, \"row\");\n      installDateRowModel.appendTrait(TextCellTrait, \"key\")\n        .content(\"Install Date\");\n      installDateRowModel.appendTrait(TextCellTrait, \"value\");\n      tableModel.appendChild(installDateRowModel, \"installDate\");\n\n      return tableModel;\n    },\n  })\n  readonly infoTable!: ModelRef<this, Model>;\n\n  @ModelRef<RclWidgets, Model>({\n    key: \"info\",\n    binds: true,\n    observes: true,\n    createModel(): Model {\n      const widgetModel = new Model();\n      const widgetTrait = new WidgetTrait();\n      widgetTrait.title.setValue(\"INFO\");\n      widgetTrait.subtitle.setValue(\"RCL\");\n      widgetModel.setTrait(\"widget\", widgetTrait);\n\n      this.owner.infoTable.insertModel(widgetModel);\n\n      return widgetModel;\n    },\n  })\n  readonly infoWidget!: ModelRef<this, Model>;\n\n\n  // Downlinks\n\n  @ValueDownlinkFastener<RclWidgets, Value>({\n    nodeUri(): Uri {\n      return this.owner.entity.trait!.uri;\n    },\n    laneUri: \"status\",\n    didSet(newValue: Value, oldValue: Value): void {\n      this.owner.updateStatusTable(newValue);\n    },\n  })\n  readonly statusDownlink!: ValueDownlinkFastener<this, Value>;\n\n  @ValueDownlinkFastener<RclWidgets, Value>({\n    nodeUri(): Uri {\n      return this.owner.entity.trait!.uri;\n    },\n    laneUri: \"rcuMetrics\",\n    didSet(newValue: Value, oldValue: Value): void {\n      this.owner.updatePerformanceTable(newValue);\n      this.owner.updatePerformanceGauge(newValue);\n      this.owner.updateHealthTable(newValue);\n    },\n  })\n  readonly rcuMetricsDownlink!: ValueDownlinkFastener<this, Value>;\n\n  @ValueDownlinkFastener<RclWidgets, Value>({\n    nodeUri(): Uri {\n      return this.owner.entity.trait!.uri;\n    },\n    laneUri: \"locomotiveMetrics\",\n    didSet(newValue: Value, oldValue: Value): void {\n      this.owner.updateOperationTable(newValue);\n      this.owner.updateOperationGauge(newValue);\n    },\n  })\n  readonly locomotiveMetricsDownlink!: ValueDownlinkFastener<this, Value>;\n\n  @ValueDownlinkFastener<RclWidgets, Value>({\n    nodeUri(): Uri {\n      return this.owner.entity.trait!.uri;\n    },\n    laneUri: \"info\",\n    didSet(newValue: Value, oldValue: Value): void {\n      this.owner.updateInfoTable(newValue);\n\n    },\n  })\n  readonly infoDownlink!: ValueDownlinkFastener<this, Value>;\n\n  @TraitRef<RclWidgets, SelectableTrait>({\n    type: SelectableTrait,\n    binds: true,\n    observes: true,\n    traitDidSelect(): void {\n      this.owner.statusWidget.insertModel();\n      this.owner.operationWidget.insertModel();\n      this.owner.performanceWidget.insertModel();\n      this.owner.healthWidget.insertModel();\n      this.owner.infoWidget.insertModel();\n\n      this.owner.statusDownlink.consume(this.owner);\n      this.owner.rcuMetricsDownlink.consume(this.owner);\n      this.owner.locomotiveMetricsDownlink.consume(this.owner);\n      this.owner.infoDownlink.consume(this.owner);\n    },\n    traitWillUnselect(): void {\n      this.owner.statusDownlink.unconsume(this.owner);\n      this.owner.rcuMetricsDownlink.unconsume(this.owner);\n      this.owner.locomotiveMetricsDownlink.unconsume(this.owner);\n      this.owner.infoDownlink.unconsume(this.owner);\n\n      this.owner.statusWidget.deleteModel();\n      this.owner.statusTable.deleteModel();\n\n      this.owner.operationWidget.deleteModel();\n      this.owner.operationTable.deleteModel();\n\n      this.owner.performanceWidget.deleteModel();\n      this.owner.performanceTable.deleteModel();\n\n      this.owner.healthWidget.deleteModel();\n      this.owner.healthTable.deleteModel();\n\n      this.owner.infoWidget.deleteModel();\n      this.owner.infoTable.deleteModel();\n\n     },\n    detectTrait(trait: Trait): SelectableTrait | null {\n      return trait instanceof SelectableTrait ? trait : null;\n    },\n  })\n  readonly selectable!: TraitRef<this, SelectableTrait>;\n\n  @TraitRef<RclWidgets, EntityTrait>({\n    type: EntityTrait,\n    binds: true,\n    detectTrait(trait: Trait): EntityTrait | null {\n      return trait instanceof EntityTrait ? trait : null;\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait>;\n\n}\n","import { GeoPoint, GeoPath,Uri, Value, ValueDownlinkFastener } from \"@swim/runtime\";\nimport { GeographicLine, LocationTrait} from \"@swim/platform\";\n\nconst RAIL_LINE_WIDTH = 1;\n\nexport class RailLocation extends LocationTrait {\n\n  constructor(geoPoints: GeoPoint[]) {\n    super();\n    this.initLine(geoPoints);\n  }\n  \n  initLine(geoPoints: GeoPoint[]) {    \n    //const newLocal = latLngs as AnyGeoPath;\n    const geographic = GeographicLine.fromInit({\n      geometry: GeoPath.fromPoints(geoPoints),\n      // Subdued green / olive\n      stroke: \"rgb(85, 107, 47)\",\n      strokeWidth: RAIL_LINE_WIDTH\n    });\n    this.setGeographic(geographic);\n  \n  }\n\n}\n","import { GeoPoint, Uri, MapDownlinkFastener, Value } from \"@swim/runtime\";\nimport { Model, Trait, TraitRef } from \"@swim/toolkit\";\nimport { EntityTrait, NodeGroup } from \"@swim/platform\";\nimport { RailLocation } from \"./RailLocation\";\n\nconst MIN_RAIL_ZOOM = 10;\nconst MAX_RAIL_ZOOM = 30;\n\nexport class RailGroup extends NodeGroup {\n  \n  constructor(nodeUri: Uri) {\n    super();\n    this.downlink.nodeUri(nodeUri);\n  }\n\n  override initNodeModel(nodeModel: Model) {\n    const entityTrait = nodeModel.getTrait(EntityTrait)!;\n\n    //const locationTrait = new RailLocation(entityTrait.uri);\n    //locationTrait.setZoomRange(MIN_RAIL_ZOOM, MAX_RAIL_ZOOM);\n    //nodeModel.setTrait(\"location\", locationTrait);\n  }\n\n  updateNodeModel(nodeModel: Model, value: Value) {\n    const entityTrait = nodeModel.getTrait(EntityTrait)!;\n    const coordinates = value.get(\"coordinates\").stringValue(\"\").split(\",\");\n    const geoPoints: GeoPoint[] = [];\n    for (var i = 0; i < coordinates.length; i += 2) {\n      const lng = parseFloat(coordinates[i + 1] as string);\n      const lat = parseFloat(coordinates[i] as string);\n      if (isFinite(lng) && isFinite(lat)) {\n        geoPoints.push(new GeoPoint(lng, lat));\n      }\n    }\n\n    const railTrait = new RailLocation(geoPoints);\n    railTrait.setZoomRange(MIN_RAIL_ZOOM, MAX_RAIL_ZOOM);\n    nodeModel.setTrait(\"railLocation\", railTrait);\n  }\n\n  @MapDownlinkFastener<RailGroup, Value, Value>({\n    consumed: true,\n    laneUri: \"rails\",\n    didUpdate(key: Value, value: Value): void {\n      if (this.owner.consuming) {\n        const nodeModel = this.owner.getOrCreateNodeModel(key.stringValue(\"\"));\n        this.owner.updateNodeModel(nodeModel, value);\n      }\n    },\n    didRemove(key: Value, value: Value): void {\n      if (this.owner.consuming) {\n        this.owner.removeNodeModel(key.stringValue(\"\"));\n      }\n    },\n  })\n  readonly downlink!: MapDownlinkFastener<this, Value, Value>;\n\n}\n","import { GeoPath, GeoJsonMultiPolygon, GeoPoint, Item, Uri, Value, ValueDownlinkFastener } from \"@swim/runtime\";\nimport { VectorIcon } from \"@swim/toolkit\";\nimport { Geographic, GeographicPoint, GeographicArea, GeographicGroup, LocationTrait , Status, StatusFactor, StatusVector, StatusTrait} from \"@swim/platform\";\n\nconst YARD_ICON = VectorIcon.create(24, 24, \"M15,11L15,5L12,2L9,5L9,7L3,7L3,21L21,21L21,11L15,11ZM7,19L5,19L5,17L7,17L7,19ZM7,15L5,15L5,13L7,13L7,15ZM7,11L5,11L5,9L7,9L7,11ZM13,19L11,19L11,17L13,17L13,19ZM13,15L11,15L11,13L13,13L13,15ZM13,11L11,11L11,9L13,9L13,11ZM13,7L11,7L11,5L13,5L13,7ZM19,19L17,19L17,17L19,17L19,19ZM19,15L17,15L17,13L19,13L19,15Z\");\nconst YARD_ICON_SIZE = 48;\n\nexport class YardLocation extends LocationTrait {\n\n  constructor(nodeUri: Uri) {\n    super();\n    this.geometryDownlink.nodeUri(nodeUri);\n    this.statusDownlink.nodeUri(nodeUri);\n  }\n\n  @ValueDownlinkFastener<YardLocation, Value>({\n    consumed: true,\n    laneUri: \"info\",\n    didSet(newValue: Value, oldValue: Value): void {\n\n      const lng = newValue.get(\"longitude\").numberValue(NaN);\n      const lat = newValue.get(\"latitude\").numberValue(NaN);\n      if (isFinite(lng) && isFinite(lat)) {\n        const geographic = GeographicPoint.fromInit({\n          geometry: new GeoPoint(lng, lat),\n          width: YARD_ICON_SIZE,\n          height: YARD_ICON_SIZE,\n          graphics: YARD_ICON,\n          // Yellow\n          fill: \"rgb(255, 255, 0)\",\n        });\n        this.owner.setGeographic(geographic);\n      } else {\n        this.owner.setGeographic(null);\n      }\n\n    },\n  })\n  readonly geometryDownlink!: ValueDownlinkFastener<this, Value>;\n\n  private getStatusFactor(status: Value): StatusFactor | null {\n\n    const numOfAlerts = status.get(\"Alerts\").length;\n\n    if (numOfAlerts > 0) return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2], [Status.alert, Math.min(numOfAlerts / 2, 1)]));\n\n    return null;\n  }\n\n  @ValueDownlinkFastener<YardLocation, Value>({\n    consumed: true,\n    laneUri: \"status\",\n    didSet(newValue: Value, oldValue: Value): void {\n      this.owner.getTrait(StatusTrait)!.setStatusFactor(\"Status\", this.owner.getStatusFactor(newValue));\n    },\n  })\n  readonly statusDownlink!:ValueDownlinkFastener<this, Value>;\n\n}\n","import { DateTime, Item, MapDownlinkFastener, TimeZone, Uri, Value, ValueDownlinkFastener } from \"@swim/runtime\";\nimport { BottomAxisTrait, ChartTrait, ColTrait, DataPointTrait, DataSetTrait, DialTrait, Feel, GaugeTrait, GraphTrait, LinePlotTrait, Look, Model, ModelRef, MoodVector, RowTrait, SelectableTrait, TableTrait, TextCellTrait, Theme, Trait, TraitRef } from \"@swim/toolkit\";\nimport { EntityTrait, Status, StatusTrait, StatusFactor, StatusVector, WidgetGroup, WidgetTrait } from \"@swim/platform\";\n\nexport class YardWidgets extends WidgetGroup {\n\n  // Status Widget\n  protected updateStatusTable(key: Value, value: Value): void {\n    const rowModel = this.getOrCreateRowModel(key);\n    const keyCell = rowModel.getTrait(\"key\", TextCellTrait);\n    keyCell!.content(key.stringValue(\"\"));\n    const timeCell = rowModel.getTrait(\"time\", TextCellTrait);\n    const reportTime = new DateTime(value.get(\"reportTime\").numberValue(void 0)!, TimeZone.forOffset(-480));\n    timeCell!.content(this.getTimeStr(reportTime));\n\n    const statusCell = rowModel.getTrait(\"status\", TextCellTrait);\n    const offline = value.get(\"isOffline\").booleanValue(false);\n    const idle = value.get(\"isIdle\").booleanValue(false);\n    const alertStatus = value.get(\"alertStatus\").stringValue(\"\");\n    let status;\n    if (offline) {\n      status = \"Offline\";\n      rowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getAlertStatusFromFlag(true));\n    } else if (idle) {\n      status = \"Idle\";\n      rowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getWarningStatusFromFlag(true));\n    } else {\n      status = alertStatus;\n      rowModel.getTrait(StatusTrait)!.setStatusFactor(\"status\", this.getStatusFactorFromAlert(alertStatus));\n    }\n    statusCell!.content(status);\n  }\n\n  getOrCreateRowModel(key: Value): Model {\n    const tableModel = this.statusTable.model!;\n    let rowModel = tableModel.getChild(key.stringValue(\"\"));\n    if (rowModel == null) {\n      rowModel = this.createRowModel(key);\n    }\n    tableModel.appendChild(rowModel, key.stringValue(\"\"));\n    return rowModel;\n  }\n\n  createRowModel(key: Value): Model {\n    const rowModel = new Model();\n    const rowTrait = new RowTrait();\n    const keyCell = new TextCellTrait();\n    keyCell.content(key.stringValue(\"\"));\n    rowModel.setTrait(\"row\", rowTrait);\n    rowModel.setTrait(\"key\", keyCell);\n    rowModel.setTrait(\"time\", new TextCellTrait());\n    rowModel.setTrait(\"status\", new TextCellTrait());\n    rowModel.setTrait(\"statusTrait\", new StatusTrait());\n    return rowModel;\n  }\n\n  private getTimeStr(time: DateTime): string {\n    const hour = time.hour < 10 ? \"0\" + time.hour : time.hour;\n    const minute = time.minute < 10 ? \"0\" + time.minute : time.minute;\n    const second = time.second < 10 ? \"0\" + time.second : time.second;\n    return hour + \":\" + minute + \":\" + second;\n  }\n  \n  private getStatusFactorFromAlert(alertType: string): StatusFactor | null {\n    if (alertType == \"Warning\") return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2]));\n    if (alertType == \"Critical\") return StatusFactor.create(\"Severity\", StatusVector.of([Status.alert, 2]));\n\n    return null;\n  }\n\n  getWarningStatusFromFlag(flag: boolean): StatusFactor | null {\n    if (flag) return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2]));\n    return null;\n  }\n\n  getAlertStatusFromFlag(flag: boolean): StatusFactor | null {\n    if (flag) return StatusFactor.create(\"Severity\", StatusVector.of([Status.alert, 2]));\n    return null;\n  }\n\n  @ModelRef<YardWidgets, Model>({\n    key: \"statusTable\",\n    createModel(): Model {\n      const tableModel = new Model();\n      tableModel.appendTrait(TableTrait, \"table\")\n        .colSpacing(12);\n      tableModel.appendTrait(ColTrait, \"key\")\n        .layout({ key: \"key\", grow: 1, textColor: Look.mutedColor });\n      tableModel.appendTrait(ColTrait, \"value\")\n        .layout({ key: \"time\", grow: 1, textColor: Look.accentColor });\n      tableModel.appendTrait(ColTrait, \"value\")\n        .layout({ key: \"status\", grow: 1, textColor: Look.accentColor });\n\n      const headerRowModel = new Model();\n      headerRowModel.appendTrait(RowTrait, \"row\");\n      headerRowModel.appendTrait(TextCellTrait, \"key\").content(\"RCL\");\n      headerRowModel.appendTrait(TextCellTrait, \"time\").content(\"Report Time\");\n      headerRowModel.appendTrait(TextCellTrait, \"status\").content(\"Status\");\n      tableModel.appendChild(headerRowModel, \"header\");\n\n      return tableModel;\n\n    },\n  })\n  readonly statusTable!: ModelRef<this, Model>;\n\n  @ModelRef<YardWidgets, Model>({\n    key: \"status\",\n    binds: true,\n    observes: true,\n    createModel(): Model {\n      const widgetModel = new Model();\n      const widgetTrait = new WidgetTrait();\n      widgetTrait.title.setValue(\"STATUS\");\n      widgetTrait.subtitle.setValue(\"YARD\");\n      widgetModel.setTrait(\"widget\", widgetTrait);\n\n      this.owner.statusTable.insertModel(widgetModel);\n\n      return widgetModel;\n    },\n  })\n  readonly statusWidget!: ModelRef<this, Model>;\n\n  // Downlinks\n\n  @MapDownlinkFastener<YardWidgets, Value>({\n    nodeUri(): Uri {\n      return this.owner.entity.trait!.uri;\n    },\n    laneUri: \"agents\",\n    didUpdate(key: Value, newValue: Value, oldValue: Value): void {\n      this.owner.updateStatusTable(key, newValue);\n    },\n  })\n  readonly agentsDownlink!: MapDownlinkFastener<this, Value>;\n\n  @TraitRef<YardWidgets, SelectableTrait>({\n    type: SelectableTrait,\n    binds: true,\n    observes: true,\n    traitDidSelect(): void {\n      this.owner.statusWidget.insertModel();\n      this.owner.agentsDownlink.consume(this.owner);\n    },\n    traitWillUnselect(): void {\n      this.owner.agentsDownlink.unconsume(this.owner);\n      this.owner.statusWidget.deleteModel();\n      this.owner.statusTable.deleteModel();\n     },\n    detectTrait(trait: Trait): SelectableTrait | null {\n      return trait instanceof SelectableTrait ? trait : null;\n    },\n  })\n  readonly selectable!: TraitRef<this, SelectableTrait>;\n\n  @TraitRef<YardWidgets, EntityTrait>({\n    type: EntityTrait,\n    binds: true,\n    detectTrait(trait: Trait): EntityTrait | null {\n      return trait instanceof EntityTrait ? trait : null;\n    },\n  })\n  readonly entity!: TraitRef<this, EntityTrait>;\n\n}\n","import { GeoBox, MapDownlinkFastener, Value } from \"@swim/runtime\";\nimport { Model } from \"@swim/toolkit\";\nimport { DistrictTrait, EntityTrait, NodeGroup } from \"@swim/platform\";\nimport { RailGroup } from \"./RailGroup\";\nimport { YardLocation } from \"./YardLocation\";\nimport { YardWidgets } from \"./YardWidgets\";\n\n// For now remove yard icon\nconst MAX_YARD_ZOOM = -Infinity;\n\nconst MIN_RAIL_ZOOM = 10;\nconst MAX_RAIL_ZOOM = 18;\n\nexport class YardGroup extends NodeGroup {\n\n  override initNodeModel(nodeModel: Model) {\n    const entityTrait = nodeModel.getTrait(EntityTrait)!;\n\n    const locationTrait = new YardLocation(entityTrait.uri);\n    locationTrait.setZoomRange(-Infinity, MAX_YARD_ZOOM);\n    nodeModel.setTrait(\"location\", locationTrait);\n\n    const widgetGroup = new YardWidgets();\n    entityTrait.setTrait(\"widgets\", widgetGroup);\n  }\n\n  updateNodeModel(nodeModel: Model, value: Value) {\n    const entityTrait = nodeModel.getTrait(EntityTrait)!;\n    const RailModel = this.createNodeModel(entityTrait.uri + \"/Rail\");\n\n    const railEntityTrait = RailModel.getTrait(EntityTrait)!;\n    const districtTrait = new DistrictTrait();\n    districtTrait.setZoomRange(MIN_RAIL_ZOOM, MAX_RAIL_ZOOM);\n    districtTrait.setBoundary(GeoBox.globe());\n    RailModel.setTrait(\"district\", districtTrait);\n\n    const subdistricts = new RailGroup(entityTrait.uri);\n    RailModel.setChild(\"subdistricts\", subdistricts);\n    (railEntityTrait.subentities.binds as any) = false;\n    railEntityTrait.subentities.setModel(subdistricts);\n    this.appendChild(RailModel, entityTrait.uri + \"/Rail\");    \n  }\n\n  @MapDownlinkFastener<YardGroup, Value, Value>({\n    consumed: true,\n    nodeUri: \"swim:meta:mesh\",\n    laneUri: \"nodes#%2fyard%2f\",\n    didUpdate(key: Value, value: Value): void {\n      if (this.owner.consuming) {\n        const nodeModel = this.owner.getOrCreateNodeModel(key.stringValue(\"\"));\n        this.owner.updateNodeModel(nodeModel, value);\n      }\n    },\n    didRemove(key: Value, value: Value): void {\n      if (this.owner.consuming) {\n        this.owner.removeNodeModel(key.stringValue(\"\"));\n      }\n    },\n  })\n  readonly downlink!: MapDownlinkFastener<this, Value, Value>;\n\n}\n","import { AnyUriPath, GeoBox, GeoPoint, GeoTile, MapDownlinkFastener, Uri, UriPath, Value } from \"@swim/runtime\";\nimport { Model, TraitRef, VectorIcon } from \"@swim/toolkit\";\nimport { DistrictTrait, EntityTrait, GeographicPoint, LocationTrait, NodeGroup, Status, StatusTrait, StatusFactor, StatusVector } from \"@swim/platform\";\nimport { RclWidgets } from \"../rcl/RclWidgets\";\nimport { YardGroup } from \"../yard/YardGroup\";\n\nconst LOCOMOTIVE_ICON = VectorIcon.create(24, 24, \"M12.2,4C15.9,4,18.9,4.4,19,7.2L19,7.3L19,15.8C19,16.5,18.7,17.1,18.2,17.5L18.1,17.6L18.1,19.1C18.1,19.6,17.8,19.9,17.3,20L17.2,20L16.4,20C15.9,20,15.5,19.6,15.5,19.2L15.5,19.1L15.5,18L8.5,18L8.5,19.1C8.5,19.6,8.2,19.9,7.7,20L7.6,20L6.7,20C6.3,20,5.9,19.6,5.9,19.2L5.9,19.1L5.9,17.6C5.4,17.2,5,16.6,5,15.9L5,15.8L5,7.3C5,4.4,8,4,11.8,4L12.2,4ZM8,16.5C8.8,16.5,9.5,15.8,9.5,15C9.5,14.2,8.8,13.5,8,13.5C7.2,13.5,6.5,14.2,6.5,15C6.5,15.8,7.2,16.5,8,16.5ZM16,16.5C16.8,16.5,17.5,15.8,17.5,15C17.5,14.2,16.8,13.5,16,13.5C15.2,13.5,14.5,14.2,14.5,15C14.5,15.8,15.2,16.5,16,16.5ZM17,7L7,7L7,12L17,12L17,7Z\");\nconst LOCOMOTIVE_ICON_SIZE = 25;\n\nconst RCU_ICON = VectorIcon.create(24, 24, \"M12,7C13.05,7,13.92,7.82,13.99,8.85L14,9C14,9.74,13.6,10.39,13,10.73L13,18L18.15,18C19.28,18,20.32,18.64,20.83,19.66L21.28,20.55C21.61,21.22,21.13,22,20.38,22L3.62,22C2.87,22,2.39,21.22,2.72,20.55L3.17,19.66C3.68,18.64,4.72,18,5.85,18L11,18L11,10.73C10.4,10.39,10,9.74,10,9C10,7.9,10.9,7,12,7ZM19.07,2.28C22.98,5.99,22.98,12.01,19.07,15.72C18.68,16.09,18.05,16.09,17.66,15.72C17.27,15.35,17.27,14.75,17.66,14.38C20.78,11.41,20.78,6.59,17.66,3.62C17.27,3.25,17.27,2.65,17.66,2.28C18.05,1.91,18.68,1.91,19.07,2.28ZM6.34,2.28C6.73,2.65,6.73,3.25,6.34,3.62C3.22,6.59,3.22,11.41,6.34,14.38C6.73,14.75,6.73,15.35,6.34,15.72C5.95,16.09,5.32,16.09,4.93,15.72C1.02,12.01,1.02,5.99,4.93,2.28C5.32,1.91,5.95,1.91,6.34,2.28ZM16.24,4.97C18.59,7.19,18.59,10.81,16.24,13.03C15.85,13.4,15.22,13.4,14.83,13.03C14.44,12.66,14.44,12.06,14.83,11.69C16.39,10.2,16.39,7.8,14.83,6.31C14.44,5.94,14.44,5.34,14.83,4.97C15.22,4.6,15.85,4.6,16.24,4.97ZM9.17,4.97C9.56,5.34,9.56,5.94,9.17,6.31C7.61,7.8,7.61,10.2,9.17,11.69C9.56,12.06,9.56,12.66,9.17,13.03C8.78,13.4,8.15,13.4,7.76,13.03C5.41,10.81,5.41,7.19,7.76,4.97C8.15,4.6,8.78,4.6,9.17,4.97Z\");\nconst RCU_ICON_SIZE = 25;\n\nconst MIN_LOCOMOTIVE_ZOOM = -Infinity;\nconst MAX_LOCOMOTIVE_ZOOM = Infinity;\n\n// To change zoom level also change _Group class\n// For now remove yard icon\nconst MAX_YARD_ZOOM = -Infinity;\n\n\nexport class GridGroup extends NodeGroup {\n\n  constructor(geoTile: GeoTile, nodeUri: Uri, metaHostUri?: Uri) {\n    super(metaHostUri);\n    this.geoTile = geoTile;\n    this.rclsDownlink.nodeUri(nodeUri);\n  }\n\n\n  // Map/Geo Tiles\n\n\n  readonly geoTile: GeoTile;\n\n  protected initSubtiles(): void {\n    const geoTile = this.geoTile;\n\n    const southWestTile = geoTile.southWestTile;\n    const southWestTileId = southWestTile.x + \",\" + southWestTile.y + \",\" + southWestTile.z;\n    const southWestNodeUri = Uri.path(UriPath.of(\"/\", \"map\", \"/\", southWestTileId))\n    const southWestModel = this.createNodeModel(southWestNodeUri.path, southWestNodeUri);\n    this.initTileModel(southWestModel, southWestTile);\n    this.appendChild(southWestModel, southWestNodeUri.toString());\n\n    const northWestTile = geoTile.northWestTile;\n    const northWestTileId = northWestTile.x + \",\" + northWestTile.y + \",\" + northWestTile.z;\n    const northWestNodeUri = Uri.path(UriPath.of(\"/\", \"map\", \"/\", northWestTileId))\n    const northWestModel = this.createNodeModel(northWestNodeUri.path, northWestNodeUri);\n    this.initTileModel(northWestModel, northWestTile);\n    this.appendChild(northWestModel, northWestNodeUri.toString());\n\n    const southEastTile = geoTile.southEastTile;\n    const southEastTileId = southEastTile.x + \",\" + southEastTile.y + \",\" + southEastTile.z;\n    const southEastNodeUri = Uri.path(UriPath.of(\"/\", \"map\", \"/\", southEastTileId))\n    const southEastModel = this.createNodeModel(southEastNodeUri.path, southEastNodeUri);\n    this.initTileModel(southEastModel, southEastTile);\n    this.appendChild(southEastModel, southEastNodeUri.toString());\n\n    const northEastTile = geoTile.northEastTile;\n    const northEastTileId = northEastTile.x + \",\" + northEastTile.y + \",\" + northEastTile.z;\n    const northEastNodeUri = Uri.path(UriPath.of(\"/\", \"map\", \"/\", northEastTileId))\n    const northEastModel = this.createNodeModel(northEastNodeUri.path, northEastNodeUri);\n    this.initTileModel(northEastModel, northEastTile);\n    this.appendChild(northEastModel, northEastNodeUri.toString());\n  }\n\n  protected initTileModel(nodeModel: Model, geoTile: GeoTile): void {\n    const entityTrait = nodeModel.getTrait(EntityTrait)!;\n\n    if (geoTile.z <= 16) {\n      const districtTrait = new DistrictTrait();\n      districtTrait.setZoomRange(this.geoTile.z, geoTile.z < MAX_LOCOMOTIVE_ZOOM ? this.geoTile.z + 2 : Infinity);\n      districtTrait.setBoundary(this.geoTile.bounds);\n      nodeModel.setTrait(\"district\", districtTrait);\n\n      const subdistricts = new GridGroup(geoTile, entityTrait.uri, this.metaHostUri);\n      nodeModel.setChild(\"subdistricts\", subdistricts);\n      (entityTrait.subentities.binds as any) = false;\n      entityTrait.subentities.setModel(subdistricts);\n      subdistricts.district.setTrait(districtTrait);\n    }\n  }\n\n\n  // Yards\n\n\n  protected initYards(): void {\n    const YardModel = this.createNodeModel(\"/Yard\");\n\n    const entityTrait = YardModel.getTrait(EntityTrait)!;\n    const districtTrait = new DistrictTrait();\n    districtTrait.setZoomRange(-Infinity, MAX_YARD_ZOOM);\n    districtTrait.setBoundary(GeoBox.globe());\n    YardModel.setTrait(\"district\", districtTrait);\n\n    const subdistricts = new YardGroup();\n    subdistricts.setTrait(\"status\", new StatusTrait());\n    YardModel.setChild(\"subdistricts\", subdistricts);\n    (entityTrait.subentities.binds as any) = false;\n    entityTrait.subentities.setModel(subdistricts);\n\n    this.appendChild(YardModel, \"/Yard\");\n  }\n\n\n  // Rcls\n\n  initRclNodeModel(nodeModel: Model): void {\n    const entityTrait = nodeModel.getTrait(EntityTrait)!;\n    entityTrait.icon.setValue(LOCOMOTIVE_ICON);\n\n    const locationTrait = new LocationTrait();\n    locationTrait.setZoomRange(MIN_LOCOMOTIVE_ZOOM - 1, Infinity);\n    nodeModel.setTrait(\"location\", locationTrait);\n\n    const statusTrait = nodeModel.getTrait(StatusTrait)!;\n    statusTrait.setStatusFactor(\"severity\", StatusFactor.create(\"Severity\", StatusVector.of([Status.normal, 2])));\n\n    const widgetGroup = new RclWidgets();\n    entityTrait.setTrait(\"widgets\", widgetGroup);\n  }\n\n  updateRclNodeModel(nodeModel: Model, value: Value): void {\n    const locationTrait = nodeModel.getTrait(LocationTrait)!;\n\n    const lng = value.get(\"longitude\").numberValue(NaN);\n    const lat = value.get(\"latitude\").numberValue(NaN);\n    if (isFinite(lng) && isFinite(lat)) {\n      const geographic = GeographicPoint.fromInit({\n        geometry: new GeoPoint(lng, lat),\n        width: LOCOMOTIVE_ICON_SIZE,\n        height: LOCOMOTIVE_ICON_SIZE,\n        graphics: LOCOMOTIVE_ICON,\n      });\n      locationTrait.setGeographic(geographic);\n    } else {\n      locationTrait.setGeographic(null);\n    }\n\n    nodeModel.getTrait(StatusTrait)!.setStatusFactor(\"Status\", this.getStatusFactor(value));\n  }\n\n  private getStatusFactor(status: Value): StatusFactor | null {\n\n    const isOffline = status.get(\"isOffline\").booleanValue();\n    const isCritical = status.get(\"isCriticalAlert\").booleanValue();\n    const isIdle = status.get(\"isIdle\").booleanValue();\n    const isWarning = status.get(\"alertStatus\").stringValue(\"\") == \"Warning\";\n\n    if (isOffline || isCritical) return StatusFactor.create(\"Severity\", StatusVector.of([Status.alert, 2]));\n    if (isIdle || isWarning) return StatusFactor.create(\"Severity\", StatusVector.of([Status.warning, 2]));\n\n    return null;\n  }\n\n  protected getOrCreateRclNodeModel(nodePath: AnyUriPath): Model {\n    if (typeof nodePath !== \"string\") {\n      nodePath = UriPath.fromAny(nodePath).toString();\n    }\n    let nodeModel = this.getChild(nodePath);\n    if (nodeModel === null) {\n      nodeModel = this.createNodeModel(nodePath);\n      this.initRclNodeModel(nodeModel);\n      this.appendChild(nodeModel, nodePath);\n    }\n    return nodeModel;\n  }\n\n  // RCUs\n  \n  initRcuNodeModel(nodeModel: Model): void {\n    const entityTrait = nodeModel.getTrait(EntityTrait)!;\n    entityTrait.icon.setValue(RCU_ICON);\n\n    const locationTrait = new LocationTrait();\n    locationTrait.setZoomRange(MIN_LOCOMOTIVE_ZOOM - 1, Infinity);\n    nodeModel.setTrait(\"location\", locationTrait);\n\n    const statusTrait = nodeModel.getTrait(StatusTrait)!;\n    statusTrait.setStatusFactor(\"severity\", StatusFactor.create(\"Severity\", StatusVector.of([Status.normal, 2])));\n\n    const widgetGroup = new RclWidgets();\n    entityTrait.setTrait(\"widgets\", widgetGroup);\n  }\n\n  updateRcuNodeModel(nodeModel: Model, value: Value): void {\n    const locationTrait = nodeModel.getTrait(LocationTrait)!;\n\n    const lng = value.get(\"longitude\").numberValue(NaN);\n    const lat = value.get(\"latitude\").numberValue(NaN);\n    if (isFinite(lng) && isFinite(lat)) {\n      const geographic = GeographicPoint.fromInit({\n        geometry: new GeoPoint(lng, lat),\n        width: RCU_ICON_SIZE,\n        height: RCU_ICON_SIZE,\n        graphics: RCU_ICON,\n      });\n      locationTrait.setGeographic(geographic);\n    } else {\n      locationTrait.setGeographic(null);\n    }\n\n    nodeModel.getTrait(StatusTrait)!.setStatusFactor(\"Status\", this.getStatusFactor(value));\n  }\n\n  protected getOrCreateRcuNodeModel(nodePath: AnyUriPath): Model {\n    if (typeof nodePath !== \"string\") {\n      nodePath = UriPath.fromAny(nodePath).toString();\n    }\n    let nodeModel = this.getChild(nodePath);\n    if (nodeModel === null) {\n      nodeModel = this.createNodeModel(nodePath);\n      this.initRcuNodeModel(nodeModel);\n      this.appendChild(nodeModel, nodePath);\n    }\n    return nodeModel;\n  }\n\n  // Downlinks\n\n\n  @MapDownlinkFastener<GridGroup, Value, Value>({\n    laneUri: \"agents\",\n    didUpdate(key: Value, value: Value): void {\n      if (this.owner.consuming && this.owner.district.trait!.consuming) {\n        if (key.stringValue(\"\").startsWith(\"/rcl\")) {\n          const nodeModel = this.owner.getOrCreateRclNodeModel(key.stringValue(\"\"));\n          this.owner.updateRclNodeModel(nodeModel, value);\n        } else if (key.stringValue(\"\").startsWith(\"/rcu\")) {\n          const nodeModel = this.owner.getOrCreateRcuNodeModel(key.stringValue(\"\"));\n          this.owner.updateRcuNodeModel(nodeModel, value);         \n        }  \n      }\n    },\n    didRemove(key: Value, value: Value): void {\n      if (this.owner.consuming && this.owner.district.trait!.consuming) {\n        this.owner.removeNodeModel(key.stringValue(\"\"));\n      }\n    },\n  })\n  readonly rclsDownlink!: MapDownlinkFastener<this, Value, Value>;\n\n\n  //\n\n\n  @TraitRef<GridGroup, DistrictTrait>({\n    type: DistrictTrait,\n    observes: true,\n    traitDidStartConsuming(): void {\n      if (this.owner.geoTile.z % 2 === 0 && this.owner.geoTile.z > MIN_LOCOMOTIVE_ZOOM - 1) {\n        this.owner.rclsDownlink.consume(this.owner);\n      }\n    },\n    traitWillStopConsuming(): void {\n      this.owner.rclsDownlink.unconsume(this.owner);\n      let child = this.owner.firstChild;\n      while (child !== null) {\n        const next = child.nextSibling;\n        if (!(child.getChild(\"subdistricts\") instanceof GridGroup)) {\n          child.remove();\n        }\n        child = next;\n      }\n    },\n  })\n  readonly district!: TraitRef<this, DistrictTrait>;\n\n  override onStartConsuming(): void {\n    super.onStartConsuming();\n    if (this.geoTile.z === 0) {\n      this.initYards();\n    }\n    this.initSubtiles();\n  }\n\n  override onStopConsuming(): void {\n    super.onStopConsuming();\n    this.removeChildren();\n  }\n\n}\n","import { GeoTile, Uri, UriPath } from \"@swim/runtime\";\nimport { VectorIcon } from \"@swim/toolkit\";\nimport { DistrictTrait, DomainTrait, EntityPlugin, EntityTrait } from \"@swim/platform\";\nimport { GridGroup } from \"./grid/GridGroup\";\n\nconst DOMAIN_ICON = VectorIcon.create(24, 24, \"M12.2,4C15.9,4,18.9,4.4,19,7.2L19,7.3L19,15.8C19,16.5,18.7,17.1,18.2,17.5L18.1,17.6L18.1,19.1C18.1,19.6,17.8,19.9,17.3,20L17.2,20L16.4,20C15.9,20,15.5,19.6,15.5,19.2L15.5,19.1L15.5,18L8.5,18L8.5,19.1C8.5,19.6,8.2,19.9,7.7,20L7.6,20L6.7,20C6.3,20,5.9,19.6,5.9,19.2L5.9,19.1L5.9,17.6C5.4,17.2,5,16.6,5,15.9L5,15.8L5,7.3C5,4.4,8,4,11.8,4L12.2,4ZM8,16.5C8.8,16.5,9.5,15.8,9.5,15C9.5,14.2,8.8,13.5,8,13.5C7.2,13.5,6.5,14.2,6.5,15C6.5,15.8,7.2,16.5,8,16.5ZM16,16.5C16.8,16.5,17.5,15.8,17.5,15C17.5,14.2,16.8,13.5,16,13.5C15.2,13.5,14.5,14.2,14.5,15C14.5,15.8,15.2,16.5,16,16.5ZM17,7L7,7L7,12L17,12L17,7Z\");\n\nexport class NstreamRailroadPlugin extends EntityPlugin {\n\n  override get id(): string {\n    return \"nstream-railroad\";\n  }\n\n  override get title(): string {\n    return \"Nstream Railroad\";\n  }\n\n  override injectEntity(entityTrait: EntityTrait, domainTrait: DomainTrait): void {\n    const entityUri = entityTrait.uri.toString();\n    if (entityUri.startsWith(\"warp://\") || entityUri.startsWith(\"warps://\")) {\n      entityTrait.title.setValue(\"Nstream Railroad\");\n      entityTrait.icon.setValue(DOMAIN_ICON);\n\n      const districtTrait = new DistrictTrait();\n      districtTrait.setZoomRange(-Infinity, Infinity);\n      entityTrait.setTrait(\"district\", districtTrait);\n\n      const rootTile = GeoTile.root();\n      const rootTileId = rootTile.x + \",\" + rootTile.y + \",\" + rootTile.z;\n      const rootNodeUri = Uri.path(UriPath.of(\"/\", \"map\", \"/\", rootTileId))\n\n      const subdistricts = new GridGroup(rootTile, rootNodeUri);\n      districtTrait.setChild(\"subdistricts\", subdistricts);\n    }\n  }\n\n}\n","export * from \"./grid\";\nexport * from \"./rcl\";\nexport * from \"./yard\";\n\nexport { NstreamRailroadPlugin } from \"./NstreamRailroadPlugin\";\n\nimport { PrismService } from \"@swim/platform\";\nimport { NstreamRailroadPlugin } from \"./NstreamRailroadPlugin\"\nPrismService.insertPlugin(new NstreamRailroadPlugin());\n"],"names":["WidgetGroup","TextCellTrait","StatusTrait","DateTime","TimeZone","StatusFactor","StatusVector","Status","DialTrait","ModelRef","Model","TableTrait","ColTrait","Look","RowTrait","WidgetTrait","GaugeTrait","ValueDownlinkFastener","TraitRef","SelectableTrait","EntityTrait","LocationTrait","GeographicLine","GeoPath","MIN_RAIL_ZOOM","MAX_RAIL_ZOOM","NodeGroup","GeoPoint","MapDownlinkFastener","VectorIcon","GeographicPoint","MAX_YARD_ZOOM","DistrictTrait","GeoBox","Uri","UriPath","EntityPlugin","GeoTile","PrismService"],"mappings":"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"}